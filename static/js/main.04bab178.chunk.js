(this.webpackJsonpmusic=this.webpackJsonpmusic||[]).push([[0],{27:function(e){e.exports=JSON.parse('{"transcript_text":["This is Brian Isaacson with Guardian mortgage company at the sound of the tone, please leave your name phone number and a brief message, and I will return your call. Thank you.","Sounds good"],"word_timings":[[{"startTime":"2.400s","endTime":"2.800s","word":"This"},{"startTime":"2.800s","endTime":"3s","word":"is"},{"startTime":"3s","endTime":"3.400s","word":"Brian"},{"startTime":"3.400s","endTime":"3.900s","word":"Isaacson"},{"startTime":"3.900s","endTime":"4.100s","word":"with"},{"startTime":"4.100s","endTime":"4.500s","word":"Guardian"},{"startTime":"4.500s","endTime":"5.000s","word":"mortgage"},{"startTime":"5.000s","endTime":"5.400s","word":"company"},{"startTime":"5.400s","endTime":"5.700s","word":"at"},{"startTime":"5.700s","endTime":"5.900s","word":"the"},{"startTime":"5.900s","endTime":"6.100s","word":"sound"},{"startTime":"6.100s","endTime":"6.200s","word":"of"},{"startTime":"6.200s","endTime":"6.300s","word":"the"},{"startTime":"6.300s","endTime":"6.500s","word":"tone,"},{"startTime":"6.500s","endTime":"6.900s","word":"please"},{"startTime":"6.900s","endTime":"7.200s","word":"leave"},{"startTime":"7.200s","endTime":"7.300s","word":"your"},{"startTime":"7.300s","endTime":"7.600s","word":"name"},{"startTime":"7.600s","endTime":"8.200s","word":"phone"},{"startTime":"8.200s","endTime":"8.300s","word":"number"},{"startTime":"8.300s","endTime":"8.600s","word":"and"},{"startTime":"8.600s","endTime":"8.700s","word":"a"},{"startTime":"8.700s","endTime":"8.800s","word":"brief"},{"startTime":"8.800s","endTime":"9s","word":"message,"},{"startTime":"9s","endTime":"9.600s","word":"and"},{"startTime":"9.600s","endTime":"10s","word":"I"},{"startTime":"10s","endTime":"10s","word":"will"},{"startTime":"10s","endTime":"10.400s","word":"return"},{"startTime":"10.400s","endTime":"10.600s","word":"your"},{"startTime":"10.600s","endTime":"10.900s","word":"call."},{"startTime":"10.900s","endTime":"11.400s","word":"Thank"},{"startTime":"11.400s","endTime":"11.500s","word":"you."}],[{"startTime":"12.0s","endTime":"12.800s","word":"Sounds"},{"startTime":"12.800s","endTime":"12.9s","word":"good"}]]}')},30:function(e,t,n){e.exports=n(43)},35:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(8),o=n.n(s),i=n(7),c=(n(35),n(29)),d=(n(36),n(10)),l=Object(d.b)({name:"music",initialState:{play:!1,seconds:0,second:0,dSeconds:0,minutes:0,timerId:0,speed:100,searched:!1,search:""},reducers:{played:function(e,t){e.play=!0},paused:function(e,t){e.play=!1},timer:function(e,t){e.dSeconds>=999&&(e.seconds=e.seconds+1,e.second=e.second+1,e.dSeconds=0),e.second>59&&(e.minutes=e.minutes+1,e.second=0),e.dSeconds=e.dSeconds+e.speed},timerId:function(e,t){e.timerId=t.payload},ended:function(e,t){e.seconds=0,e.dSeconds=0},listened:function(e,t){e.seconds!==t.payload.sec&&e.dSeconds!==t.payload.dSec&&(e.seconds=t.payload.sec,e.dSeconds=Math.floor(1e3*t.payload.dSec))},set:function(e,t){e.seconds=t.payload.seco,e.dSeconds=t.payload.dse},forwarded:function(e,t){e.seconds=e.seconds+10},rewinded:function(e,t){e.seconds=e.seconds-10,e.seconds<0&&(e.seconds=0)},speeding:function(e,t){e.speed=100*parseFloat(t.payload)},searching:function(e,t){e.searched=!0,e.search=t.payload},cleared:function(e,t){e.search="",e.searched=!1}}}),m=l.actions,u=m.played,p=m.paused,f=m.timerId,T=m.timer,h=m.ended,v=m.listened,g=m.set,w=m.forwarded,E=m.rewinded,y=m.speeding,b=m.searching,N=m.cleared,x=l.reducer,O=n(3),j=n(9),C=function e(){Object(j.a)(this,e)};C.getNumericalTime=function(e){return parseFloat(e.slice(0,e.length-1))},C.getFormatDateTime=function(e,t){return"".concat(e,":").concat(t>9?t:"0"+t)};var S=function(e){var t=e.audioFile,n=Object(a.useContext)(G),s=n.duration,o=n.setDuration,i=Object(O.b)(),d=Object(O.c)((function(e){return e.timerId})),l=Object(O.c)((function(e){return e.seconds})),m=Object(O.c)((function(e){return e.dSeconds})),g=Object(O.c)((function(e){return e.minutes})),b=l+m/1e3,N=Object(a.useRef)(null);Object(a.useEffect)((function(){N.current.audio.current.currentTime=b}),[b]);var x=Math.floor(s/60),j=s%60;return Object(a.useEffect)((function(){var e=N.current.container.current,t=N.current.audio.current,n=N.current.container.current.childNodes[1].childNodes[1].childNodes[1];e.childNodes[1].childNodes[0].style.display="none",e.childNodes[1].childNodes[1].childNodes[0].style.display="none",e.childNodes[1].childNodes[1].childNodes[2].style.display="none",e.style.outline="none",t.preload="metadata",t.onloadedmetadata=function(){o(Math.round(t.duration))},n.removeChild(n.childNodes[0]),n.removeChild(n.childNodes[1]);var a=document.createElement("div"),r=document.createElement("img");r.src="/apollo-audio-assignment/img/rotate-right.svg",r.style.width="20px",a.addEventListener("mouseover",(function(e){e.target.style.cursor="pointer"})),a.appendChild(r),n.appendChild(a),a.onclick=function(){return i(w())};var s=document.createElement("div"),c=document.createElement("img");c.src="/apollo-audio-assignment/img/rotate-left.svg",c.style.width="20px",s.addEventListener("mouseover",(function(e){e.target.style.cursor="pointer"})),s.appendChild(c),n.insertBefore(s,n.childNodes[0]),s.onclick=function(){return i(E())};var d=document.createElement("select");d.classList.add("downArrow");var l=document.createElement("option");l.value="0.5",l.innerText="0.50x";var m=document.createElement("option");m.value="1",m.innerText="1.00x";var u=document.createElement("option");u.value="0.75",u.innerText="0.75x";var p=document.createElement("option");p.value="1.5",p.innerText="1.50x";var f=document.createElement("option");f.value="2.0",f.innerText="2.00x",d.appendChild(m),d.appendChild(l),d.appendChild(u),d.appendChild(p),d.appendChild(f),d.oninput=function(e){return i(y(e.target.value))},d.addEventListener("mouseover",(function(e){e.target.style.cursor="pointer"})),n.appendChild(d);var T=document.createElement("img");T.src="/apollo-audio-assignment/img/share.png",T.addEventListener("mouseover",(function(e){e.target.style.cursor="pointer"})),n.parentElement.appendChild(T),n.childNodes[1].childNodes[0].style.color="#2792F7",n.childNodes[1].style.outline="none"}),[]),r.a.createElement("div",{className:"audio-player-container"},r.a.createElement(c.a,{src:t,onPlay:function(){var e=setInterval((function(){return i(T())}),100);i(u()),i(f(e))},onPause:function(){clearInterval(d),i(p())},onEnded:function(){clearInterval(d),i(h())},onListen:function(e){i(v({sec:Math.floor(e.target.currentTime),dSec:e.target.currentTime-Math.floor(e.target.currentTime)}))},ref:N,style:{marginBottom:"20px"}}),r.a.createElement("span",{className:"time-span"},C.getFormatDateTime(g,l)," / ",C.getFormatDateTime(x,j)))},k=function(){return Object(d.a)({reducer:x})},M=function(){var e=Object(O.b)(),t=Object(a.useContext)(A),n=Object(O.c)((function(e){return e.seconds}))+Object(O.c)((function(e){return e.dSeconds}))/1e3,s=Object(a.useState)(!1),o=Object(i.a)(s,2),c=o[0],d=o[1],l=function(){return d(!1)};return r.a.createElement("div",{className:"ml-4 transcript-container"},t.word_timings.map((function(t,a){return r.a.createElement("div",{className:"transcript-inner-container ".concat(a%2?"ml-5":""),key:a},r.a.createElement("span",{className:a%2?"second-person":"first-person"},"0:",Math.floor(C.getNumericalTime(t[0].startTime))>9?Math.floor(C.getNumericalTime(t[0].startTime)):"0"+Math.floor(C.getNumericalTime(t[0].startTime))," "),r.a.createElement("span",{className:"vertical-line-separator"}),r.a.createElement("span",{className:"word-container ".concat(a%2?"text-muted":"")},t.map((function(t,a){return r.a.createElement("span",{onClick:function(){return function(t){var n=Math.floor(C.getNumericalTime(t)),a=100*Math.ceil(10*(C.getNumericalTime(t)-Math.floor(C.getNumericalTime(t))));e(g({seco:n,dse:a})),d(!0),setTimeout(l,3e3)}(t.startTime)},key:a},n>=C.getNumericalTime(t.startTime)&&n<C.getNumericalTime(t.endTime)?r.a.createElement("a",{className:"word"},r.a.createElement("span",{style:{backgroundColor:"lightblue"}},t.word)," "):r.a.createElement("a",{className:"word"},r.a.createElement("span",null,t.word)," "))})),c?r.a.createElement("div",{className:"share"},"share"):null))})))},L=function e(){Object(j.a)(this,e)};L.WidthConstant=700;var I=function(e){var t,n,s=Object(O.c)((function(e){return e.seconds}))+Object(O.c)((function(e){return e.dSeconds}))/1e3,o=Object(a.useContext)(G),i=o.duration;o.setDuration;return r.a.createElement("div",{className:"wave-line-container",style:{maxWidth:(t=e.startTime,n=e.endTime,(C.getNumericalTime(n)-C.getNumericalTime(t))/i*L.WidthConstant+"px")}},[1,2,3,4,5].map((function(t,n){return r.a.createElement("span",{key:n},s>C.getNumericalTime(e.startTime)+n/10?r.a.createElement("div",{className:"gray-bar",key:t}):r.a.createElement("div",{className:"gray-bar",style:{borderLeft:"2px solid ".concat(e.colour)},key:t}))})))},F=function(){var e=Object(a.useContext)(G),t=e.duration,n=(e.setDuration,Object(O.b)()),s=Object(a.useState)(0),o=Object(i.a)(s,2),c=o[0],d=o[1],l=Object(O.c)((function(e){return e.seconds}))+Object(O.c)((function(e){return e.dSeconds}))/1e3;Object(a.useEffect)((function(){d(l/t*100+"%")}),[l]);return r.a.createElement("div",{className:"moving-line-container",onClick:function(e){var a=e.nativeEvent.offsetX/L.WidthConstant*t,r=Math.floor(a),s=100*Math.round(10*(a-Math.floor(a)));n(g({seco:r,dse:s}))}},r.a.createElement("div",{className:"moving-line",style:{width:c}}))},W=function(){for(var e=Object(a.useContext)(G),t=e.duration,n=(e.setDuration,Object(a.useContext)(A)),s=n.word_timings.length,o=0,i=0;i<s;i++)for(var c=0;c<n.word_timings[i].length;c++)o+=1;for(var d=0,l=0;l<s;l++)if(l%2==0)for(var m=0;m<n.word_timings[l].length;m++)d+=1;var u=Math.round(d/o*100),p=100-u,f=0,T=function(e,n){var a;return a=C.getNumericalTime(e)*L.WidthConstant/t-f+1,f=C.getNumericalTime(n)*L.WidthConstant/t,a+"px"},h=0,v=function(e,n){var a;return a=C.getNumericalTime(e)*L.WidthConstant/t-h+1,h=C.getNumericalTime(n)*L.WidthConstant/t,a+"px"};return r.a.createElement("div",{className:"ml-3 my-5",style:{fontSize:"25px",width:"95%"}},r.a.createElement("div",{style:{paddingLeft:"145px"}},r.a.createElement("span",{style:{color:"mediumpurple",position:"absolute",top:"170px",left:"45px"}},u," % You"),r.a.createElement("span",{style:{color:"blue",position:"absolute",top:"210px",left:"45px"}},p," % Other"),n.word_timings.map((function(e,t){return r.a.createElement("div",{key:t},t%2==0?r.a.createElement("div",{className:" first-person",style:{borderBottom:"1px solid #F1F4F6",maxWidth:L.WidthConstant,display:"flex"}},e.map((function(e,t){return r.a.createElement("div",{style:{marginLeft:T(e.startTime,e.endTime),display:"flex"},key:t},r.a.createElement(I,{startTime:e.startTime,endTime:e.endTime,colour:"mediumpurple"}))}))):r.a.createElement("div",{className:" second-person",style:{display:"flex"}},e.map((function(e,t){return r.a.createElement("div",{style:{marginLeft:v(e.startTime,e.endTime),display:"flex"},key:t},r.a.createElement(I,{startTime:e.startTime,endTime:e.endTime,colour:"blue"}))}))))}))),r.a.createElement(F,null))},_=n(27),D=function(){var e=Object(O.b)(),t=Object(O.c)((function(e){return e.searched})),n=Object(a.useState)(""),s=Object(i.a)(n,2),o=s[0],c=s[1],d=Object(O.c)((function(e){return e.search})),l=Object(a.useContext)(A),m=Object(a.useState)(0),u=Object(i.a)(m,2),p=u[0],f=u[1];return Object(a.useEffect)((function(){for(var e=0,t=0;t<l.word_timings.length;t++)for(var n=0;n<l.word_timings[t].length;n++)l.word_timings[t][n].word.toLowerCase().includes(d.toLowerCase())&&(e+=1);f(e)}),[d]),r.a.createElement("div",{className:"search-transcript"},r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e(b(o.toLowerCase()))}},r.a.createElement("input",{className:"search-input",placeholder:"Search call typescript",onChange:function(e){return c(e.target.value)},value:o})),r.a.createElement("img",{className:"search-icon",src:"/apollo-audio-assignment/img/icon-search.png"}),t?r.a.createElement("span",{className:"result-span"},p," results",r.a.createElement("span",{onClick:function(){return e(N())},className:"clear-search"}," ","Clear Search")):null)},B=n(28),P=n.n(B),J=function(){var e=Object(O.c)((function(e){return e.search})),t=Object(a.useContext)(A);return r.a.createElement("div",{className:"searched-transcript ml-4"},t.word_timings.map((function(n,a){return r.a.createElement("div",{key:a},t.transcript_text[a].includes(e)?r.a.createElement("div",{style:{display:"flex",minHeight:"70px"},className:P()("",{"ml-5 ":a%2!==0}),key:a},r.a.createElement("span",{className:a%2?"second-person":"first-person"},C.getFormatDateTime(0,C.getNumericalTime(n[0].startTime))),r.a.createElement("span",{className:"gray-box"}),r.a.createElement("span",{className:"muted-text-span ".concat(a%2?"text-muted":"")},n.map((function(t,n){return r.a.createElement("span",{key:n},r.a.createElement("a",null,t.word.toLowerCase().includes(e.toLowerCase())?r.a.createElement("span",{style:{backgroundColor:"orange"}},t.word):r.a.createElement("span",null,t.word)," "))})))):null)})))},A=r.a.createContext(),G=r.a.createContext();k().subscribe((function(){console.log("change")}));var z=function(){var e=Object(O.c)((function(e){return e.searched})),t=Object(a.useState)(null),n=Object(i.a)(t,2),s=n[0],o=n[1];return r.a.createElement(G.Provider,{value:{duration:s,setDuration:o}},r.a.createElement(A.Provider,{value:_},r.a.createElement("div",{className:"App"},r.a.createElement(S,{audioFile:"audio/audio.wav"}),r.a.createElement(W,null),r.a.createElement(D,null),e?r.a.createElement(J,null):r.a.createElement(M,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var H=k();o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(O.a,{store:H}," ",r.a.createElement(z,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[30,1,2]]]);
//# sourceMappingURL=main.04bab178.chunk.js.map